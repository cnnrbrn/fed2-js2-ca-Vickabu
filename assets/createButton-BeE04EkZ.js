import{A as s,h as n}from"./headers-CvDvskcI.js";async function r(e){try{const t=await fetch(`${s}/${e}`,{method:"DELETE",headers:n()});return t.ok?!0:(console.error("Failed to delete post:",t.status,t.statusText),!1)}catch(t){return console.error("Error deleting post:",t),!1}}async function d(e){const t=e.target.dataset.postId,o=e.target.closest(".post");if(!t){console.error("Post ID not found.");return}confirm("Are you sure you want to delete this post?")&&(await r(t)?(alert("Post deleted successfully."),window.location.pathname.includes("post")?window.location.href="/":o?.remove()):alert("Failed to delete the post."))}function i(e,t){const o=document.createElement("button");return o.textContent="Delete",o.dataset.postId=e,o.addEventListener("click",t),o}function l(e){const t=document.createElement("button");return t.textContent="Edit",t.dataset.postId=e,t.addEventListener("click",()=>{window.location.href=`/post/edit/?id=${e}`,localStorage.setItem("postId",JSON.stringify(e))}),t}export{l as a,i as c,d as o};
